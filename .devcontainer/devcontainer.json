{
  "name": "GoodMem DevContainer",
  "build": { "dockerfile": "Dockerfile" },
  {
  "features": {
    "ghcr.io/devcontainers/features/github-cli:1": {},
    "ghcr.io/devcontainers/features/docker-in-docker:2": {}
  },
  "containerEnv": {
    "GITHUB_TOKEN": "${localEnv:GH_PAT}",
    "GH_TOKEN": "${localEnv:GH_PAT}"
  },
  "postCreateCommand": [
      "printf \"%s\" \"$GITHUB_TOKEN\" | gh auth login --hostname github.com --with-token",
      "curl -s https://get.goodmem.ai | bash -s -- --debug-install",
      "printf 'OPENAI_API_KEY=your_openai_api_key_here\\nADD_API_KEY=your_goodmem_api_key_here\\n' > .env"
    ]
  },
  "mounts": [
    "source=goodmem-data,target=/var/lib/goodmem,type=volume"
  ],
  "remoteUser": "vscode",
  "runArgs": ["--privileged"]
}
